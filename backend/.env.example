# Backend Environment Variables
# Copy this file to .env and update with your values

# ===========================
# Application Settings
# ===========================
NODE_ENV=development
PORT=4000
API_VERSION=v1

# DEV_MODE: Set to true to run without databases (uses mock data)
# Set to false for production with real databases
DEV_MODE=true

# ===========================
# CORS Settings
# ===========================
CORS_ORIGIN=http://localhost:3000

# ===========================
# Database - PostgreSQL (Primary)
# ===========================
# Format: postgresql://USER:PASSWORD@HOST:PORT/DATABASE
# Example: postgresql://grc_user:grc_password@localhost:5432/grc_platform
DATABASE_URL="postgresql://grc_user:grc_password@localhost:5432/grc_platform"

# ===========================
# Database - MongoDB (Documents)
# ===========================
# Format: mongodb://USER:PASSWORD@HOST:PORT/DATABASE
# Example: mongodb://grc_user:grc_password@localhost:27017/grc_documents
MONGODB_URI="mongodb://grc_user:grc_password@localhost:27017/grc_documents"

# ===========================
# Database - Redis (Cache)
# ===========================
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=grc_redis_password

# ===========================
# Database - Elasticsearch (Search)
# ===========================
ELASTICSEARCH_NODE=http://localhost:9200
ELASTICSEARCH_USERNAME=elastic
ELASTICSEARCH_PASSWORD=grc_elastic_password

# ===========================
# JWT Authentication
# ===========================
# Generate secure random strings for production:
# node -e "console.log(require('crypto').randomBytes(64).toString('hex'))"
JWT_SECRET=your-super-secret-jwt-key-change-this-in-production
JWT_REFRESH_SECRET=your-super-secret-refresh-key-change-this-in-production

# Token expiration times
JWT_EXPIRES_IN=15m
JWT_REFRESH_EXPIRES_IN=7d

# ===========================
# Email Configuration (Optional)
# ===========================
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USER=your-email@example.com
SMTP_PASSWORD=your-email-password
SMTP_FROM=GRC Platform <noreply@sinfosecurity.com>

# ===========================
# File Upload Settings
# ===========================
MAX_FILE_SIZE=10485760
UPLOAD_DIR=./uploads

# ===========================
# Rate Limiting
# ===========================
# Auth endpoints: requests per time window
AUTH_RATE_LIMIT_WINDOW_MS=900000
AUTH_RATE_LIMIT_MAX_REQUESTS=5

# General API: requests per time window
API_RATE_LIMIT_WINDOW_MS=900000
API_RATE_LIMIT_MAX_REQUESTS=100

# ===========================
# Logging
# ===========================
LOG_LEVEL=info
LOG_FILE_ERROR=./logs/error.log
LOG_FILE_COMBINED=./logs/combined.log

# ===========================
# AI Service Integration
# ===========================
AI_SERVICE_URL=http://localhost:5000
AI_SERVICE_ENABLED=true

# ===========================
# Production Settings (Only for production)
# ===========================
# HTTPS Settings
# SSL_KEY_PATH=/path/to/ssl/key.pem
# SSL_CERT_PATH=/path/to/ssl/cert.pem

# Security
# SESSION_SECRET=your-session-secret-for-production
# COOKIE_SECURE=true
# COOKIE_HTTP_ONLY=true
# COOKIE_SAME_SITE=strict

# ===========================
# Development Settings
# ===========================
# Set to true for detailed error messages
DEBUG=true
