import{j as e,r as a}from"./react-vendor-CdVZEr9v.js";import{j as s,B as t,k as i,T as l,aF as n,o as r,a4 as o,a8 as c,aa as d,ab as x,aG as h,G as p,p as j,h as g,W as m,f}from"./mui-vendor-CNwB-oLM.js";import{R as u,L as b,d as v,C as k,X as y,Y as R,T as I,e as C,A as w,f as W}from"./chart-vendor-CtvS2VSP.js";import"./vendor--ofsD4ZX.js";function S({title:a,value:c,unit:d="",change:x,changeLabel:h="vs last month",sparklineData:p,color:j,icon:g}){return e.jsxs(s,{sx:{bgcolor:"#1a1f3a",border:"1px solid rgba(255,255,255,0.1)",position:"relative",overflow:"hidden",height:"100%",transition:"transform 0.2s, box-shadow 0.2s","&:hover":{transform:"translateY(-4px)",boxShadow:`0 8px 24px ${j}40`}},children:[e.jsx(t,{sx:{position:"absolute",top:0,left:0,right:0,height:"4px",background:`linear-gradient(90deg, ${j} 0%, ${j}80 100%)`}}),e.jsxs(i,{sx:{pt:3},children:[e.jsxs(t,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",mb:2},children:[e.jsx(l,{variant:"body2",sx:{color:"rgba(255,255,255,0.7)",fontWeight:500},children:a}),e.jsx(t,{sx:{bgcolor:`${j}20`,p:1,borderRadius:1.5,display:"flex",alignItems:"center",justifyContent:"center",color:j},children:g})]}),e.jsxs(l,{variant:"h3",sx:{fontWeight:700,mb:1,background:`linear-gradient(135deg, #ffffff 0%, ${j} 100%)`,WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent"},children:[c,d&&e.jsx(l,{component:"span",variant:"h5",sx:{ml:.5,color:"rgba(255,255,255,0.5)"},children:d})]}),void 0!==x&&e.jsxs(t,{sx:{display:"flex",alignItems:"center",gap:.5,mb:2},children:[e.jsxs(t,{sx:{display:"flex",alignItems:"center",color:x?x>0?"#43e97b":"#f5576c":"rgba(255,255,255,0.5)",fontSize:"0.875rem",fontWeight:600},children:[x?x>0?e.jsx(r,{sx:{fontSize:20}}):e.jsx(o,{sx:{fontSize:20}}):e.jsx(n,{sx:{fontSize:20}}),e.jsxs("span",{style:{marginLeft:4},children:[Math.abs(x),"%"]})]}),e.jsx(l,{variant:"caption",sx:{color:"rgba(255,255,255,0.5)"},children:h})]}),p&&p.length>0&&e.jsx(t,{sx:{mt:2,height:40,ml:-2,mr:-2},children:e.jsx(u,{width:"100%",height:"100%",children:e.jsx(b,{data:p.map((e,a)=>({value:e,index:a})),children:e.jsx(v,{type:"monotone",dataKey:"value",stroke:j,strokeWidth:2,dot:!1,animationDuration:500})})})})]})]})}function D({title:n,data:r,color:o,secondaryColor:h,dataKey:p="value",secondaryDataKey:j,type:g="line",showLegend:m=!1}){const[f,S]=a.useState("30d"),D=()=>{if("all"===f)return r;const e={"7d":7,"30d":30,"90d":90,"1y":365}[f]||30;return r.slice(-e)},$=({active:a,payload:s,label:i})=>a&&s&&s.length?e.jsxs(t,{sx:{bgcolor:"#0f1729",border:`1px solid ${o}40`,borderRadius:1,p:1.5,boxShadow:`0 4px 12px ${o}20`},children:[e.jsx(l,{variant:"caption",sx:{color:"rgba(255,255,255,0.7)",display:"block",mb:.5},children:i}),s.map((a,s)=>e.jsxs(l,{variant:"body2",sx:{color:a.color,fontWeight:600,display:"flex",alignItems:"center",gap:1},children:[e.jsx(t,{sx:{width:8,height:8,borderRadius:"50%",bgcolor:a.color}}),a.name,": ",a.value]},s))]}):null;return e.jsx(s,{sx:{bgcolor:"#1a1f3a",border:"1px solid rgba(255,255,255,0.1)",height:"100%"},children:e.jsxs(i,{children:[e.jsxs(t,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",mb:3},children:[e.jsx(l,{variant:"h6",sx:{fontWeight:600},children:n}),e.jsx(c,{size:"small",sx:{minWidth:100},children:e.jsxs(d,{value:f,onChange:e=>S(e.target.value),sx:{"& .MuiOutlinedInput-notchedOutline":{borderColor:"rgba(255,255,255,0.2)"},"&:hover .MuiOutlinedInput-notchedOutline":{borderColor:o}},children:[e.jsx(x,{value:"7d",children:"7 Days"}),e.jsx(x,{value:"30d",children:"30 Days"}),e.jsx(x,{value:"90d",children:"90 Days"}),e.jsx(x,{value:"1y",children:"1 Year"}),e.jsx(x,{value:"all",children:"All Time"})]})})]}),e.jsx(u,{width:"100%",height:300,children:"line"===g?e.jsxs(b,{data:D(),children:[e.jsx(k,{strokeDasharray:"3 3",stroke:"rgba(255,255,255,0.1)"}),e.jsx(y,{dataKey:"date",stroke:"rgba(255,255,255,0.5)",style:{fontSize:"0.75rem"}}),e.jsx(R,{stroke:"rgba(255,255,255,0.5)",style:{fontSize:"0.75rem"}}),e.jsx(I,{content:$}),m&&e.jsx(C,{}),e.jsx(v,{type:"monotone",dataKey:p,stroke:o,strokeWidth:2,dot:{fill:o,r:4},activeDot:{r:6},name:"Primary"}),j&&h&&e.jsx(v,{type:"monotone",dataKey:j,stroke:h,strokeWidth:2,dot:{fill:h,r:4},activeDot:{r:6},name:"Secondary"})]}):e.jsxs(w,{data:D(),children:[e.jsx("defs",{children:e.jsxs("linearGradient",{id:`gradient-${o}`,x1:"0",y1:"0",x2:"0",y2:"1",children:[e.jsx("stop",{offset:"5%",stopColor:o,stopOpacity:.8}),e.jsx("stop",{offset:"95%",stopColor:o,stopOpacity:0})]})}),e.jsx(k,{strokeDasharray:"3 3",stroke:"rgba(255,255,255,0.1)"}),e.jsx(y,{dataKey:"date",stroke:"rgba(255,255,255,0.5)",style:{fontSize:"0.75rem"}}),e.jsx(R,{stroke:"rgba(255,255,255,0.5)",style:{fontSize:"0.75rem"}}),e.jsx(I,{content:$}),m&&e.jsx(C,{}),e.jsx(W,{type:"monotone",dataKey:p,stroke:o,strokeWidth:2,fillOpacity:1,fill:`url(#gradient-${o})`,name:"Primary"})]})})]})})}function $({title:n,data:r,onCellClick:o}){const[c,d]=a.useState(null),x=(e,a)=>{const s=e*a;return s>=20?"Critical":s>=12?"High":s>=6?"Medium":s>=3?"Low":"Very Low"},p=[5,4,3,2,1],j=["Catastrophic","Major","Moderate","Minor","Negligible"],g=["Rare","Unlikely","Possible","Likely","Almost Certain"];return e.jsx(s,{sx:{bgcolor:"#1a1f3a",border:"1px solid rgba(255,255,255,0.1)",height:"100%"},children:e.jsxs(i,{children:[e.jsx(l,{variant:"h6",sx:{fontWeight:600,mb:3},children:n}),e.jsxs(t,{children:[e.jsxs(t,{sx:{display:"flex",alignItems:"center",gap:2,mb:2},children:[e.jsx(l,{variant:"caption",sx:{color:"rgba(255,255,255,0.7)",fontWeight:600,transform:"rotate(-90deg)",width:60,textAlign:"center"},children:"IMPACT"}),e.jsxs(t,{sx:{flex:1},children:[p.map((a,s)=>e.jsxs(t,{sx:{display:"flex",gap:.5,mb:.5},children:[e.jsx(t,{sx:{width:100,display:"flex",alignItems:"center"},children:e.jsx(l,{variant:"caption",sx:{color:"rgba(255,255,255,0.5)",fontSize:"0.7rem"},children:j[s]})}),p.reverse().map(i=>{const n=(p=i,m=a,r.find(e=>e.likelihood===p&&e.impact===m));var p,m;const f=((e,a)=>{const s=e*a;return s>=20?"#f5576c":s>=12?"#ff9800":s>=6?"#feca57":s>=3?"#43e97b":"#38f9d7"})(i,a),u=(null==n?void 0:n.count)||0,b=(null==c?void 0:c.x)===i&&(null==c?void 0:c.y)===a;return e.jsx(h,{title:e.jsxs(t,{children:[e.jsxs(l,{variant:"caption",sx:{fontWeight:600},children:[x(i,a)," Risk"]}),e.jsxs(l,{variant:"caption",sx:{display:"block"},children:["Likelihood: ",g[i-1]]}),e.jsxs(l,{variant:"caption",sx:{display:"block"},children:["Impact: ",j[s]]}),e.jsxs(l,{variant:"caption",sx:{display:"block",mt:.5},children:["Risks: ",u]})]}),arrow:!0,children:e.jsx(t,{sx:{flex:1,aspectRatio:"1/1",bgcolor:`${f}${u>0?"":"20"}`,border:`2px solid ${b?f:"rgba(255,255,255,0.1)"}`,borderRadius:1,display:"flex",alignItems:"center",justifyContent:"center",cursor:u>0?"pointer":"default",transition:"all 0.2s",transform:b?"scale(1.1)":"scale(1)","&:hover":{transform:u>0?"scale(1.1)":"scale(1)",boxShadow:u>0?`0 4px 12px ${f}60`:"none",zIndex:1}},onMouseEnter:()=>d({x:i,y:a}),onMouseLeave:()=>d(null),onClick:()=>u>0&&o&&n&&o(n),children:u>0&&e.jsx(l,{variant:"body2",sx:{fontWeight:700,color:"#fff",textShadow:"0 2px 4px rgba(0,0,0,0.5)"},children:u})})},`${i}-${a}`)})]},a)),e.jsx(t,{sx:{display:"flex",gap:.5,mt:1,ml:"100px"},children:g.reverse().map(a=>e.jsx(t,{sx:{flex:1,textAlign:"center"},children:e.jsx(l,{variant:"caption",sx:{color:"rgba(255,255,255,0.5)",fontSize:"0.7rem"},children:a.slice(0,4)})},a))}),e.jsx(l,{variant:"caption",sx:{color:"rgba(255,255,255,0.7)",fontWeight:600,textAlign:"center",display:"block",mt:1},children:"LIKELIHOOD"})]})]}),e.jsx(t,{sx:{display:"flex",gap:2,mt:3,justifyContent:"center",flexWrap:"wrap"},children:[{color:"#38f9d7",label:"Very Low"},{color:"#43e97b",label:"Low"},{color:"#feca57",label:"Medium"},{color:"#ff9800",label:"High"},{color:"#f5576c",label:"Critical"}].map(a=>e.jsxs(t,{sx:{display:"flex",alignItems:"center",gap:.5},children:[e.jsx(t,{sx:{width:12,height:12,bgcolor:a.color,borderRadius:.5}}),e.jsx(l,{variant:"caption",sx:{color:"rgba(255,255,255,0.7)"},children:a.label})]},a.label))})]})]})})}const L={totalRisks:{value:42,change:12,sparkline:[35,37,38,40,39,41,42]},complianceRate:{value:87,change:5,sparkline:[78,80,82,84,85,86,87]},openIncidents:{value:15,change:-20,sparkline:[22,20,19,18,17,16,15]},controlEffectiveness:{value:92,change:3,sparkline:[88,89,90,90,91,91,92]}},z=[{date:"2024-07",value:35},{date:"2024-08",value:38},{date:"2024-09",value:40},{date:"2024-10",value:39},{date:"2024-11",value:41},{date:"2024-12",value:42}],M=[{date:"2024-07",value:78},{date:"2024-08",value:82},{date:"2024-09",value:84},{date:"2024-10",value:85},{date:"2024-11",value:86},{date:"2024-12",value:87}],O=[{date:"2024-07",value:22},{date:"2024-08",value:19},{date:"2024-09",value:18},{date:"2024-10",value:17},{date:"2024-11",value:16},{date:"2024-12",value:15}],A=[{likelihood:5,impact:5,count:3,riskIds:["R001","R002","R003"]},{likelihood:5,impact:4,count:2,riskIds:["R004","R005"]},{likelihood:4,impact:5,count:1,riskIds:["R006"]},{likelihood:4,impact:4,count:5,riskIds:["R007","R008","R009","R010","R011"]},{likelihood:3,impact:4,count:4,riskIds:["R012","R013","R014","R015"]},{likelihood:3,impact:3,count:8,riskIds:["R016","R017","R018","R019","R020","R021","R022","R023"]},{likelihood:2,impact:3,count:6,riskIds:["R024","R025","R026","R027","R028","R029"]},{likelihood:2,impact:2,count:7,riskIds:["R030","R031","R032","R033","R034","R035","R036"]},{likelihood:1,impact:2,count:4,riskIds:["R037","R038","R039","R040"]},{likelihood:1,impact:1,count:2,riskIds:["R041","R042"]}];function K(){return e.jsxs(t,{children:[e.jsxs(t,{sx:{mb:4},children:[e.jsx(l,{variant:"h4",sx:{fontWeight:700,mb:1},children:"Advanced Analytics"}),e.jsx(l,{variant:"body1",sx:{color:"rgba(255,255,255,0.7)"},children:"Comprehensive insights and trend analysis for your GRC program"})]}),e.jsxs(p,{container:!0,spacing:3,sx:{mb:3},children:[e.jsx(p,{item:!0,xs:12,sm:6,md:3,children:e.jsx(S,{title:"Total Risks",value:L.totalRisks.value,change:L.totalRisks.change,sparklineData:L.totalRisks.sparkline,color:"#667eea",icon:e.jsx(j,{})})}),e.jsx(p,{item:!0,xs:12,sm:6,md:3,children:e.jsx(S,{title:"Compliance Rate",value:L.complianceRate.value,unit:"%",change:L.complianceRate.change,sparklineData:L.complianceRate.sparkline,color:"#43e97b",icon:e.jsx(g,{})})}),e.jsx(p,{item:!0,xs:12,sm:6,md:3,children:e.jsx(S,{title:"Open Incidents",value:L.openIncidents.value,change:L.openIncidents.change,sparklineData:L.openIncidents.sparkline,color:"#f5576c",icon:e.jsx(m,{})})}),e.jsx(p,{item:!0,xs:12,sm:6,md:3,children:e.jsx(S,{title:"Control Effectiveness",value:L.controlEffectiveness.value,unit:"%",change:L.controlEffectiveness.change,sparklineData:L.controlEffectiveness.sparkline,color:"#feca57",icon:e.jsx(f,{})})})]}),e.jsxs(p,{container:!0,spacing:3,sx:{mb:3},children:[e.jsx(p,{item:!0,xs:12,lg:6,children:e.jsx(D,{title:"Risks Over Time",data:z,color:"#667eea",type:"area"})}),e.jsx(p,{item:!0,xs:12,lg:6,children:e.jsx(D,{title:"Compliance Score Trend",data:M,color:"#43e97b",type:"line"})})]}),e.jsxs(p,{container:!0,spacing:3,children:[e.jsx(p,{item:!0,xs:12,lg:6,children:e.jsx(D,{title:"Incident Timeline",data:O,color:"#f5576c",type:"area"})}),e.jsx(p,{item:!0,xs:12,lg:6,children:e.jsx($,{title:"Risk Matrix",data:A,onCellClick:e=>{}})})]})]})}export{K as default};
