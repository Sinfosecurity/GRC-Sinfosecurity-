import{r as e,j as s}from"./react-vendor-CdlOkkQ6.js";import{v as t}from"./index-UHlHKN_b.js";import{B as i,I as a,J as r,T as n,b as o,Z as c,i as l,G as d,e as h,f as x,ax as g,ay as u,_ as m,$ as p,a0 as b,a1 as j,a2 as v,a3 as y,a4 as S,p as f,Q as w,aP as C,W as A,j as k,af as R,r as q,a7 as M,a8 as W,a9 as P,h as D,aa as E,ab as N,ac as I,ad as O,ae as T,aQ as U,aR as Y,aS as _,aT as H,aE as L,aU as V}from"./mui-vendor-ke4DnebM.js";import"./vendor-DaIW0aQl.js";import"./api-vendor-Dos3PyFQ.js";const $=[{id:1,name:"CloudStorage Pro",category:"Cloud Services",tier:"Critical",status:"Active",riskScore:85,complianceScore:92,lastAssessment:"2024-11-15",nextReview:"2025-02-15",contactEmail:"security@cloudstorage.com",dataAccess:"Customer PII, Financial Data",assessmentStatus:"Completed"},{id:2,name:"SecurePayments Inc",category:"Payment Processing",tier:"Critical",status:"Active",riskScore:90,complianceScore:95,lastAssessment:"2024-12-01",nextReview:"2025-03-01",contactEmail:"compliance@securepay.com",dataAccess:"Payment Card Data",assessmentStatus:"Completed"},{id:3,name:"Analytics Dashboard",category:"Analytics",tier:"High",status:"Active",riskScore:75,complianceScore:80,lastAssessment:"2024-10-20",nextReview:"2025-01-20",contactEmail:"support@analytics.com",dataAccess:"Usage Data",assessmentStatus:"In Progress"},{id:4,name:"Email Marketing Suite",category:"Marketing",tier:"Medium",status:"Active",riskScore:70,complianceScore:75,lastAssessment:"2024-09-10",nextReview:"2024-12-10",contactEmail:"info@emailsuite.com",dataAccess:"Contact Information",assessmentStatus:"Overdue"},{id:5,name:"HR Software Solutions",category:"Human Resources",tier:"High",status:"Active",riskScore:78,complianceScore:88,lastAssessment:"2024-11-01",nextReview:"2025-02-01",contactEmail:"security@hrsolutions.com",dataAccess:"Employee Data",assessmentStatus:"Completed"}],F=["Cloud Services","Payment Processing","Analytics","Marketing","Human Resources","IT Services","Security","Other"],B=["Critical","High","Medium","Low"],z=e=>({Critical:"#f5576c",High:"#fa709a",Medium:"#fee140",Low:"#43e97b"}[e]||"#667eea"),G=e=>({"Not Started":"#888","In Progress":"#00f2fe",Completed:"#43e97b",Overdue:"#f5576c"}[e]||"#667eea"),Q=e=>e>=90?"#43e97b":e>=75?"#00f2fe":e>=60?"#fee140":"#f5576c";function J(){var J;const[Z,K]=e.useState($),[X,ee]=e.useState(null),[se,te]=e.useState(!0),[ie,ae]=e.useState(null),[re,ne]=e.useState({open:!1,message:"",severity:"success"}),[oe,ce]=e.useState(0),[le,de]=e.useState(!1),[he,xe]=e.useState(null),[ge,ue]=e.useState(!1),[me,pe]=e.useState(0),[be,je]=e.useState({}),[ve,ye]=e.useState({name:"",category:"",tier:"Medium",contactEmail:"",dataAccess:"",website:"",primaryContact:"",businessOwner:""});e.useEffect(()=>{Se(),fe()},[]);const Se=async()=>{var e,s;try{te(!0),ae(null);const e=await t.getAll();if(e.data.vendors){const s=e.data.vendors.map(e=>{var s;return{id:e.id,name:e.name,category:e.category,tier:e.tier,status:e.status,riskScore:e.inherentRiskScore||0,complianceScore:100-(e.inherentRiskScore||0),lastAssessment:e.lastAssessmentDate?new Date(e.lastAssessmentDate).toISOString().split("T")[0]:"N/A",nextReview:e.nextReviewDate?new Date(e.nextReviewDate).toISOString().split("T")[0]:"N/A",contactEmail:e.primaryContact||"N/A",dataAccess:(null==(s=e.dataCategories)?void 0:s.join(", "))||"N/A",assessmentStatus:e.assessmentStatus||"Not Started"}});K(s)}}catch(i){ae((null==(s=null==(e=i.response)?void 0:e.data)?void 0:s.message)||"Failed to load vendors. Using mock data.")}finally{te(!1)}},fe=async()=>{try{const e=await t.getStatistics();ee(e.data)}catch(e){}},we=(null==(J=null==X?void 0:X.tierDistribution)?void 0:J.Critical)||Z.filter(e=>"Critical"===e.tier).length,Ce=Z.filter(e=>"Overdue"===e.assessmentStatus).length,Ae=(null==X?void 0:X.averageRiskScore)||(Z.reduce((e,s)=>e+s.riskScore,0)/Z.length).toFixed(0),ke=[{title:"Information Security",questions:[{id:"sec_1",question:"Does the vendor maintain ISO 27001, SOC 2, or equivalent certification?",options:["Yes - ISO 27001","Yes - SOC 2 Type II","Yes - Both","No certification","In progress"],weight:10},{id:"sec_2",question:"How does the vendor handle data encryption?",options:["Encryption at rest and in transit (AES-256/TLS 1.3)","Encryption at rest only","Encryption in transit only","No encryption","Unknown"],weight:9},{id:"sec_3",question:"What is the vendor's incident response time commitment?",options:["< 1 hour (Critical incidents)","< 4 hours","< 24 hours","No SLA defined","Unknown"],weight:8},{id:"sec_4",question:"Does the vendor conduct regular penetration testing?",options:["Quarterly by third-party","Annually by third-party","Internal testing only","No testing","Unknown"],weight:7}]},{title:"Data Privacy & Compliance",questions:[{id:"priv_1",question:"Is the vendor GDPR compliant (if processing EU data)?",options:["Yes - Fully compliant with DPA","Yes - Standard contractual clauses","Partially compliant","Not applicable","No"],weight:10},{id:"priv_2",question:"Where is customer data stored geographically?",options:["EU/EEA only","US with Privacy Shield","Multi-region with data residency options","Outside EU/US","Unknown"],weight:8},{id:"priv_3",question:"Does the vendor have a Data Processing Agreement (DPA)?",options:["Yes - Signed and current","Yes - Pending signature","Standard terms only","No DPA","Not required"],weight:9},{id:"priv_4",question:"How does the vendor handle data subject requests (GDPR Art. 15-22)?",options:["Automated portal < 30 days","Manual process < 30 days","Manual process > 30 days","No defined process","Unknown"],weight:7}]},{title:"Access Control & Authentication",questions:[{id:"access_1",question:"Does the vendor support Multi-Factor Authentication (MFA)?",options:["Yes - Mandatory for all users","Yes - Optional","Yes - Admin only","No","Unknown"],weight:9},{id:"access_2",question:"What is the vendor's password policy?",options:["Complex passwords + MFA + rotation","Complex passwords + rotation","Basic password requirements","No specific policy","Unknown"],weight:7},{id:"access_3",question:"Does the vendor support SSO (Single Sign-On)?",options:["Yes - SAML 2.0","Yes - OAuth 2.0","Yes - Both","No","Enterprise plan only"],weight:6},{id:"access_4",question:"How are user access reviews conducted?",options:["Automated quarterly reviews","Manual quarterly reviews","Annual reviews","No formal process","Unknown"],weight:7}]},{title:"Business Continuity & Availability",questions:[{id:"bc_1",question:"What is the vendor's uptime SLA?",options:["99.99% (4 nines)","99.9% (3 nines)","99.5%","No SLA","Unknown"],weight:8},{id:"bc_2",question:"Does the vendor have a documented Business Continuity Plan (BCP)?",options:["Yes - Tested annually","Yes - Tested bi-annually","Yes - Not tested","No","Unknown"],weight:9},{id:"bc_3",question:"What is the vendor's Recovery Time Objective (RTO)?",options:["< 1 hour","< 4 hours","< 24 hours","> 24 hours","Not defined"],weight:8},{id:"bc_4",question:"Does the vendor have redundant infrastructure?",options:["Multi-region active-active","Multi-region active-passive","Single region redundant","No redundancy","Unknown"],weight:7}]},{title:"Vendor Management & Due Diligence",questions:[{id:"mgmt_1",question:"How long has the vendor been in business?",options:["10+ years","5-10 years","2-5 years","< 2 years","Startup"],weight:6},{id:"mgmt_2",question:"Does the vendor have cyber insurance?",options:["Yes - $10M+ coverage","Yes - $5M-$10M","Yes - < $5M","No","Unknown"],weight:7},{id:"mgmt_3",question:"Has the vendor had any security breaches in the past 3 years?",options:["No breaches","Minor breach - quickly resolved","Major breach - resolved","Multiple breaches","Unknown"],weight:10},{id:"mgmt_4",question:"Does the vendor conduct third-party security audits?",options:["Yes - Annually","Yes - Every 2 years","Rarely","No","Unknown"],weight:8}]}];return s.jsxs(i,{children:[s.jsx(a,{open:re.open,autoHideDuration:6e3,onClose:()=>ne({...re,open:!1}),children:s.jsx(r,{severity:re.severity,onClose:()=>ne({...re,open:!1}),children:re.message})}),s.jsxs(i,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:4},children:[s.jsxs(i,{children:[s.jsx(n,{variant:"h4",sx:{fontWeight:700,mb:1},children:"Vendor Risk Management (TPRM)"}),s.jsx(n,{variant:"body1",sx:{color:"rgba(255,255,255,0.7)"},children:"Assess and manage third-party vendor risks"})]}),s.jsx(o,{variant:"contained",startIcon:s.jsx(c,{}),onClick:()=>de(!0),disabled:se,sx:{background:"linear-gradient(135deg, #43e97b 0%, #38f9d7 100%)",color:"#000","&:hover":{background:"linear-gradient(135deg, #38f9d7 0%, #43e97b 100%)"}},children:"Add Vendor"})]}),ie&&s.jsx(r,{severity:"warning",sx:{mb:3},onClose:()=>ae(null),children:ie}),se&&0===Z.length&&s.jsx(i,{sx:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:400},children:s.jsx(l,{})}),s.jsxs(d,{container:!0,spacing:3,sx:{mb:4},children:[s.jsx(d,{item:!0,xs:12,sm:6,md:3,children:s.jsx(h,{sx:{bgcolor:"#1a1f3a",border:"1px solid rgba(255,255,255,0.1)"},children:s.jsxs(x,{children:[s.jsx(n,{variant:"h3",sx:{color:"#667eea",fontWeight:700},children:Z.length}),s.jsx(n,{variant:"body2",sx:{color:"rgba(255,255,255,0.7)"},children:"Total Vendors"})]})})}),s.jsx(d,{item:!0,xs:12,sm:6,md:3,children:s.jsx(h,{sx:{bgcolor:"#1a1f3a",border:"1px solid rgba(255,255,255,0.1)"},children:s.jsxs(x,{children:[s.jsx(n,{variant:"h3",sx:{color:"#f5576c",fontWeight:700},children:we}),s.jsx(n,{variant:"body2",sx:{color:"rgba(255,255,255,0.7)"},children:"Critical Vendors"})]})})}),s.jsx(d,{item:!0,xs:12,sm:6,md:3,children:s.jsx(h,{sx:{bgcolor:"#1a1f3a",border:"1px solid rgba(255,255,255,0.1)"},children:s.jsxs(x,{children:[s.jsxs(n,{variant:"h3",sx:{color:Q(Number(Ae)),fontWeight:700},children:[Ae,"%"]}),s.jsx(n,{variant:"body2",sx:{color:"rgba(255,255,255,0.7)"},children:"Avg Risk Score"})]})})}),s.jsx(d,{item:!0,xs:12,sm:6,md:3,children:s.jsx(h,{sx:{bgcolor:"#1a1f3a",border:"1px solid rgba(255,255,255,0.1)"},children:s.jsxs(x,{children:[s.jsx(n,{variant:"h3",sx:{color:Ce>0?"#f5576c":"#43e97b",fontWeight:700},children:Ce}),s.jsx(n,{variant:"body2",sx:{color:"rgba(255,255,255,0.7)"},children:"Overdue Assessments"})]})})})]}),s.jsx(h,{sx:{bgcolor:"#1a1f3a",border:"1px solid rgba(255,255,255,0.1)",mb:4},children:s.jsxs(x,{children:[s.jsx(n,{variant:"h6",sx:{mb:3,fontWeight:600},children:"Vendor Risk Tier Distribution"}),s.jsx(d,{container:!0,spacing:2,children:B.map(e=>{const t=Z.filter(s=>s.tier===e).length,a=(t/Z.length*100).toFixed(0);return s.jsx(d,{item:!0,xs:12,sm:6,md:3,children:s.jsxs(i,{sx:{p:2,border:"2px solid",borderColor:z(e),borderRadius:2,bgcolor:`${z(e)}10`},children:[s.jsx(n,{variant:"h4",sx:{color:z(e),fontWeight:700},children:t}),s.jsxs(n,{variant:"body2",sx:{color:"rgba(255,255,255,0.7)"},children:[e," Tier (",a,"%)"]})]})},e)})})]})}),s.jsx(h,{sx:{bgcolor:"#1a1f3a",border:"1px solid rgba(255,255,255,0.1)"},children:s.jsxs(x,{children:[s.jsx(i,{sx:{borderBottom:1,borderColor:"rgba(255,255,255,0.1)",mb:2},children:s.jsxs(g,{value:oe,onChange:(e,s)=>ce(s),children:[s.jsx(u,{label:"All Vendors"}),s.jsx(u,{label:"Critical & High"}),s.jsx(u,{label:"Pending Assessments"})]})}),s.jsx(m,{component:p,sx:{bgcolor:"transparent"},children:s.jsxs(b,{children:[s.jsx(j,{children:s.jsxs(v,{children:[s.jsx(y,{sx:{color:"rgba(255,255,255,0.7)",fontWeight:600},children:"Vendor"}),s.jsx(y,{sx:{color:"rgba(255,255,255,0.7)",fontWeight:600},children:"Category"}),s.jsx(y,{sx:{color:"rgba(255,255,255,0.7)",fontWeight:600},children:"Tier"}),s.jsx(y,{sx:{color:"rgba(255,255,255,0.7)",fontWeight:600},children:"Risk Score"}),s.jsx(y,{sx:{color:"rgba(255,255,255,0.7)",fontWeight:600},children:"Compliance"}),s.jsx(y,{sx:{color:"rgba(255,255,255,0.7)",fontWeight:600},children:"Assessment"}),s.jsx(y,{sx:{color:"rgba(255,255,255,0.7)",fontWeight:600},children:"Next Review"}),s.jsx(y,{sx:{color:"rgba(255,255,255,0.7)",fontWeight:600},children:"Actions"})]})}),s.jsx(S,{children:Z.filter(e=>1===oe?"Critical"===e.tier||"High"===e.tier:2!==oe||"Completed"!==e.assessmentStatus).map(e=>s.jsxs(v,{sx:{"&:hover":{bgcolor:"rgba(102, 126, 234, 0.05)"},cursor:"pointer"},onClick:()=>(e=>{xe(e)})(e),children:[s.jsx(y,{children:s.jsxs(i,{sx:{display:"flex",alignItems:"center",gap:1},children:[s.jsx(f,{sx:{color:"#667eea"}}),s.jsxs(i,{children:[s.jsx(n,{variant:"body2",sx:{fontWeight:600,color:"white"},children:e.name}),s.jsx(n,{variant:"caption",sx:{color:"rgba(255,255,255,0.5)"},children:e.contactEmail})]})]})}),s.jsx(y,{children:s.jsx(w,{label:e.category,size:"small",sx:{bgcolor:"rgba(102, 126, 234, 0.2)",color:"#667eea"}})}),s.jsx(y,{children:s.jsx(w,{label:e.tier,size:"small",icon:"Critical"===e.tier?s.jsx(C,{}):"High"===e.tier?s.jsx(A,{}):s.jsx(k,{}),sx:{bgcolor:`${z(e.tier)}20`,color:z(e.tier),fontWeight:600}})}),s.jsx(y,{children:s.jsxs(i,{sx:{width:100},children:[s.jsx(i,{sx:{display:"flex",justifyContent:"space-between",mb:.5},children:s.jsxs(n,{variant:"caption",children:[e.riskScore,"%"]})}),s.jsx(R,{variant:"determinate",value:e.riskScore,sx:{height:6,borderRadius:3,bgcolor:"rgba(255,255,255,0.1)","& .MuiLinearProgress-bar":{bgcolor:Q(e.riskScore),borderRadius:3}}})]})}),s.jsx(y,{children:s.jsxs(i,{sx:{width:100},children:[s.jsx(i,{sx:{display:"flex",justifyContent:"space-between",mb:.5},children:s.jsxs(n,{variant:"caption",children:[e.complianceScore,"%"]})}),s.jsx(R,{variant:"determinate",value:e.complianceScore,sx:{height:6,borderRadius:3,bgcolor:"rgba(255,255,255,0.1)","& .MuiLinearProgress-bar":{bgcolor:Q(e.complianceScore),borderRadius:3}}})]})}),s.jsx(y,{children:s.jsx(w,{label:e.assessmentStatus,size:"small",sx:{bgcolor:`${G(e.assessmentStatus)}20`,color:G(e.assessmentStatus)}})}),s.jsx(y,{sx:{color:"rgba(255,255,255,0.7)"},children:e.nextReview}),s.jsx(y,{children:s.jsx(o,{size:"small",startIcon:s.jsx(q,{}),sx:{color:"#667eea"},children:"Assess"})})]},e.id))})]})})]})}),s.jsxs(M,{open:le,onClose:()=>de(!1),maxWidth:"md",fullWidth:!0,PaperProps:{sx:{bgcolor:"#1a1f3a",border:"1px solid rgba(255,255,255,0.1)"}},children:[s.jsx(W,{sx:{color:"white"},children:"Add New Vendor"}),s.jsx(P,{children:s.jsxs(d,{container:!0,spacing:2,sx:{mt:1},children:[s.jsx(d,{item:!0,xs:12,md:6,children:s.jsx(D,{fullWidth:!0,label:"Vendor Name",value:ve.name,onChange:e=>ye({...ve,name:e.target.value}),required:!0})}),s.jsx(d,{item:!0,xs:12,md:6,children:s.jsxs(E,{fullWidth:!0,required:!0,children:[s.jsx(N,{children:"Category"}),s.jsx(I,{value:ve.category,onChange:e=>ye({...ve,category:e.target.value}),label:"Category",children:F.map(e=>s.jsx(O,{value:e,children:e},e))})]})}),s.jsx(d,{item:!0,xs:12,md:6,children:s.jsxs(E,{fullWidth:!0,required:!0,children:[s.jsx(N,{children:"Risk Tier"}),s.jsx(I,{value:ve.tier,onChange:e=>ye({...ve,tier:e.target.value}),label:"Risk Tier",children:B.map(e=>s.jsx(O,{value:e,children:e},e))})]})}),s.jsx(d,{item:!0,xs:12,md:6,children:s.jsx(D,{fullWidth:!0,label:"Contact Email",type:"email",value:ve.contactEmail,onChange:e=>ye({...ve,contactEmail:e.target.value}),required:!0})}),s.jsx(d,{item:!0,xs:12,children:s.jsx(D,{fullWidth:!0,multiline:!0,rows:2,label:"Data Access",value:ve.dataAccess,onChange:e=>ye({...ve,dataAccess:e.target.value}),placeholder:"e.g., Customer PII, Payment Data, Employee Records"})})]})}),s.jsxs(T,{children:[s.jsx(o,{onClick:()=>de(!1),children:"Cancel"}),s.jsx(o,{onClick:async()=>{var e,s;try{te(!0),await t.create({name:ve.name,category:ve.category,tier:ve.tier,primaryContact:ve.contactEmail,website:ve.website,businessOwner:ve.businessOwner,dataCategories:ve.dataAccess?[ve.dataAccess]:[],services:[]}),ne({open:!0,message:"Vendor added successfully!",severity:"success"}),de(!1),ye({name:"",category:"",tier:"Medium",contactEmail:"",dataAccess:"",website:"",primaryContact:"",businessOwner:""}),await Se()}catch(i){ne({open:!0,message:(null==(s=null==(e=i.response)?void 0:e.data)?void 0:s.message)||"Failed to add vendor",severity:"error"})}finally{te(!1)}},variant:"contained",disabled:!ve.name||!ve.category||!ve.contactEmail,sx:{background:"linear-gradient(135deg, #43e97b 0%, #38f9d7 100%)",color:"#000"},children:"Add Vendor"})]})]}),s.jsx(M,{open:!!he,onClose:()=>xe(null),maxWidth:"md",fullWidth:!0,PaperProps:{sx:{bgcolor:"#1a1f3a",border:"1px solid rgba(255,255,255,0.1)"}},children:he&&s.jsxs(s.Fragment,{children:[s.jsx(W,{sx:{color:"white"},children:s.jsxs(i,{sx:{display:"flex",alignItems:"center",gap:2},children:[s.jsx(f,{sx:{fontSize:40,color:"#667eea"}}),s.jsxs(i,{children:[s.jsx(n,{variant:"h5",children:he.name}),s.jsx(n,{variant:"caption",sx:{color:"rgba(255,255,255,0.7)"},children:he.category})]})]})}),s.jsx(P,{children:s.jsxs(d,{container:!0,spacing:2,children:[s.jsxs(d,{item:!0,xs:12,md:6,children:[s.jsx(n,{variant:"caption",sx:{color:"rgba(255,255,255,0.7)"},children:"Risk Tier"}),s.jsx(w,{label:he.tier,sx:{bgcolor:`${z(he.tier)}20`,color:z(he.tier),fontWeight:600,mt:.5}})]}),s.jsxs(d,{item:!0,xs:12,md:6,children:[s.jsx(n,{variant:"caption",sx:{color:"rgba(255,255,255,0.7)"},children:"Assessment Status"}),s.jsx(w,{label:he.assessmentStatus,sx:{bgcolor:`${G(he.assessmentStatus)}20`,color:G(he.assessmentStatus),mt:.5}})]}),s.jsxs(d,{item:!0,xs:12,md:6,children:[s.jsx(n,{variant:"caption",sx:{color:"rgba(255,255,255,0.7)"},children:"Risk Score"}),s.jsxs(n,{variant:"h6",sx:{color:Q(he.riskScore)},children:[he.riskScore,"%"]})]}),s.jsxs(d,{item:!0,xs:12,md:6,children:[s.jsx(n,{variant:"caption",sx:{color:"rgba(255,255,255,0.7)"},children:"Compliance Score"}),s.jsxs(n,{variant:"h6",sx:{color:Q(he.complianceScore)},children:[he.complianceScore,"%"]})]}),s.jsxs(d,{item:!0,xs:12,children:[s.jsx(n,{variant:"caption",sx:{color:"rgba(255,255,255,0.7)"},children:"Data Access"}),s.jsx(n,{variant:"body2",sx:{color:"white",mt:.5},children:he.dataAccess})]}),s.jsxs(d,{item:!0,xs:12,md:6,children:[s.jsx(n,{variant:"caption",sx:{color:"rgba(255,255,255,0.7)"},children:"Last Assessment"}),s.jsx(n,{variant:"body2",sx:{color:"white",mt:.5},children:he.lastAssessment})]}),s.jsxs(d,{item:!0,xs:12,md:6,children:[s.jsx(n,{variant:"caption",sx:{color:"rgba(255,255,255,0.7)"},children:"Next Review"}),s.jsx(n,{variant:"body2",sx:{color:"white",mt:.5},children:he.nextReview})]})]})}),s.jsxs(T,{children:[s.jsx(o,{onClick:()=>xe(null),children:"Close"}),s.jsx(o,{variant:"contained",startIcon:s.jsx(q,{}),onClick:()=>{xe(null),ue(!0),pe(0),je({})},sx:{background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)"},children:"Start Assessment"})]})]})}),s.jsxs(M,{open:ge,onClose:()=>ue(!1),maxWidth:"md",fullWidth:!0,PaperProps:{sx:{bgcolor:"#1a1f3a",border:"1px solid rgba(255,255,255,0.1)",minHeight:"600px"}},children:[s.jsxs(W,{sx:{color:"white",pb:2},children:[s.jsxs(i,{sx:{display:"flex",alignItems:"center",gap:2,mb:2},children:[s.jsx(q,{sx:{fontSize:32,color:"#667eea"}}),s.jsxs(i,{children:[s.jsx(n,{variant:"h5",sx:{fontWeight:700},children:"Vendor Risk Assessment"}),s.jsx(n,{variant:"caption",sx:{color:"rgba(255,255,255,0.7)"},children:(null==he?void 0:he.name)||"Third-Party Risk Evaluation"})]})]}),s.jsx(U,{activeStep:me,sx:{mt:2},children:ke.map((e,t)=>s.jsx(Y,{children:s.jsx(_,{sx:{"& .MuiStepLabel-label":{color:"rgba(255,255,255,0.7)"},"& .Mui-active":{color:"#667eea"},"& .Mui-completed":{color:"#43e97b"}},children:e.title})},t))}),s.jsxs(i,{sx:{mt:2},children:[s.jsxs(i,{sx:{display:"flex",justifyContent:"space-between",mb:1},children:[s.jsx(n,{variant:"caption",sx:{color:"rgba(255,255,255,0.7)"},children:"Overall Progress"}),s.jsxs(n,{variant:"caption",sx:{color:"#667eea",fontWeight:600},children:[Math.round(Object.keys(be).length/ke.reduce((e,s)=>e+s.questions.length,0)*100),"%"]})]}),s.jsx(R,{variant:"determinate",value:Object.keys(be).length/ke.reduce((e,s)=>e+s.questions.length,0)*100,sx:{height:8,borderRadius:4,bgcolor:"rgba(255,255,255,0.1)","& .MuiLinearProgress-bar":{background:"linear-gradient(90deg, #667eea 0%, #764ba2 100%)"}}})]})]}),s.jsx(P,{sx:{pt:3},children:me<ke.length&&s.jsxs(i,{children:[s.jsx(n,{variant:"h6",sx:{fontWeight:600,mb:3,color:"#667eea"},children:ke[me].title}),ke[me].questions.map((e,t)=>s.jsxs(i,{sx:{mb:4,p:3,bgcolor:"rgba(102, 126, 234, 0.05)",borderRadius:2,border:"1px solid rgba(102, 126, 234, 0.2)"},children:[s.jsxs(n,{variant:"subtitle1",sx:{fontWeight:600,mb:2,color:"white"},children:[t+1,". ",e.question]}),s.jsx(H,{value:be[e.id]||"",onChange:s=>je({...be,[e.id]:s.target.value}),children:e.options.map((e,t)=>s.jsx(L,{value:e,control:s.jsx(V,{sx:{color:"rgba(255,255,255,0.5)","&.Mui-checked":{color:"#667eea"}}}),label:s.jsx(n,{variant:"body2",sx:{color:"white"},children:e}),sx:{mb:1,ml:0,p:1.5,borderRadius:1,"&:hover":{bgcolor:"rgba(102, 126, 234, 0.1)"}}},t))})]},e.id))]})}),s.jsxs(T,{sx:{p:3,borderTop:"1px solid rgba(255,255,255,0.1)"},children:[s.jsx(o,{onClick:()=>ue(!1),children:"Cancel"}),me>0&&s.jsx(o,{onClick:()=>pe(me-1),variant:"outlined",children:"Previous"}),me<ke.length-1?s.jsx(o,{onClick:()=>pe(me+1),variant:"contained",sx:{background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)"},children:"Next Section"}):s.jsx(o,{onClick:()=>{const e=(()=>{let e=0,s=0;return ke.forEach(t=>{t.questions.forEach(t=>{s+=4*t.weight;const i=be[t.id];if(i){const s=t.options.indexOf(i),a=s>=0?(4-s)*t.weight:0;e+=Math.max(0,a)}})}),Math.round(e/s*100)})(),s=100-e;if(he){const t={...he,riskScore:s,complianceScore:e,lastAssessment:(new Date).toISOString().split("T")[0],assessmentStatus:"Completed"};K(Z.map(e=>e.id===he.id?t:e))}alert(`Vendor Assessment Completed!\n\nCompliance Score: ${e}%\nRisk Score: ${s}%\n\nRisk Level: ${s<30?"Low":s<50?"Medium":s<70?"High":"Critical"}\n\nRecommendation: ${s<30?"Approved for engagement":s<50?"Approved with monitoring":s<70?"Additional controls required":"High risk - executive approval needed"}`),ue(!1),pe(0),je({})},variant:"contained",disabled:Object.keys(be).length<ke.reduce((e,s)=>e+s.questions.length,0),sx:{background:"linear-gradient(135deg, #43e97b 0%, #38f9d7 100%)",color:"#000",fontWeight:700,fontSize:"1rem",px:4,"&.Mui-disabled":{background:"rgba(255,255,255,0.12)",color:"rgba(255,255,255,0.3)"}},children:"Complete"})]})]})]})}export{J as default};
