const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/js/Dashboard-ChW99gpl.js","assets/js/react-vendor-CdlOkkQ6.js","assets/js/vendor-DaIW0aQl.js","assets/js/mui-vendor-ke4DnebM.js","assets/js/chart-vendor-B4M6Nsot.js","assets/js/api-vendor-Dos3PyFQ.js","assets/js/RiskManagement-D4QSMTzu.js","assets/js/ComplianceManagement-BtuDXakp.js","assets/js/ControlsManagement-CHydWUb-.js","assets/js/IncidentManagement-BD_42Ecw.js","assets/js/PolicyManagement-RdF903Wb.js","assets/js/DocumentManagement-BvjURwJO.js","assets/js/ActivityLog-BXXZktQj.js","assets/js/UserManagement-Dg8W7Uuh.js","assets/js/OrganizationSettings-5rrN77j3.js","assets/js/Analytics-CXXN3uUj.js","assets/js/Tasks-D87qI2FF.js","assets/js/WorkflowBuilder-CfRzvhwM.js","assets/js/BusinessContinuity-CWokNXoV.js","assets/js/AIInsights-BVYKj7P9.js","assets/js/PredictiveAnalytics-C7NH2JFJ.js","assets/js/Reports-N3jLheHp.js","assets/js/VendorManagement-TFRp8Rfe.js","assets/js/SOCReports-BdOgpmFi.js","assets/js/OnboardingWizard-DDne3skX.js","assets/js/ISO27001-F4F7F3nU.js","assets/js/TISAX-CE1MbRl5.js","assets/js/Settings-B9vq9DRo.js"])))=>i.map(i=>d[i]);
var e=Object.defineProperty,t=(t,r,o)=>((t,r,o)=>r in t?e(t,r,{enumerable:!0,configurable:!0,writable:!0,value:o}):t[r]=o)(t,"symbol"!=typeof r?r+"":r,o);import{r,j as o,u as a,h as s,O as n,N as i,i as l,l as d,m as c,n as h,o as p,R as g,P as u,B as x}from"./react-vendor-CdlOkkQ6.js";import{a as m}from"./api-vendor-Dos3PyFQ.js";import{B as f,C as j,S as y,A as b,a as v,T as k,b as S,G as w,d as _,e as I,f as C,h as E,i as A,j as L,k as R,P as T,l as z,L as O,m as P,n as W,o as V,p as D,q as $,D as M,r as N,s as F,W as B,t as H,F as G,u as U,H as q,v as J,w as Y,x as X,y as K,z as Q,V as Z,E as ee,I as te,J as re,K as oe,M as ae,N as se,O as ne}from"./mui-vendor-ke4DnebM.js";import{a7 as ie,a8 as le,a9 as de}from"./vendor-DaIW0aQl.js";!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver(e=>{for(const r of e)if("childList"===r.type)for(const e of r.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)}).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),"use-credentials"===e.crossOrigin?t.credentials="include":"anonymous"===e.crossOrigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();const ce={},he=function(e,t,r){let o=Promise.resolve();if(t&&t.length>0){document.getElementsByTagName("link");const e=document.querySelector("meta[property=csp-nonce]"),r=(null==e?void 0:e.nonce)||(null==e?void 0:e.getAttribute("nonce"));o=Promise.allSettled(t.map(e=>{if((e=function(e){return"/"+e}(e))in ce)return;ce[e]=!0;const t=e.endsWith(".css"),o=t?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${e}"]${o}`))return;const a=document.createElement("link");return a.rel=t?"stylesheet":"modulepreload",t||(a.as="script"),a.crossOrigin="",a.href=e,r&&a.setAttribute("nonce",r),document.head.appendChild(a),t?new Promise((t,r)=>{a.addEventListener("load",t),a.addEventListener("error",()=>r(new Error(`Unable to preload CSS for ${e}`)))}):void 0}))}function a(e){const t=new Event("vite:preloadError",{cancelable:!0});if(t.payload=e,window.dispatchEvent(t),!t.defaultPrevented)throw e}return o.then(t=>{for(const e of t||[])"rejected"===e.status&&a(e.reason);return e().catch(a)})},pe=m.create({baseURL:"https://grc-backend-production-5586.up.railway.app/api/v1",headers:{"Content-Type":"application/json"}});pe.interceptors.request.use(e=>{const t=localStorage.getItem("token");return t&&(e.headers.Authorization=`Bearer ${t}`),e},e=>Promise.reject(e)),pe.interceptors.response.use(e=>e,async e=>{var t,r,o;const a=e.config;return 401!==(null==(t=e.response)?void 0:t.status)||a._retry?(403===(null==(o=e.response)?void 0:o.status)||e.response,Promise.reject(e)):(a._retry=!0,(null==(r=a.url)?void 0:r.includes("/auth/"))&&(localStorage.removeItem("token"),localStorage.removeItem("user"),window.location.href="/"),Promise.reject(e))});const ge=e=>pe.post("/auth/login",e),ue=()=>pe.post("/auth/logout"),xe=e=>pe.post("/auth/refresh",{refreshToken:e}),me=()=>pe.get("/auth/me"),fe={getAll:e=>pe.get("/vendors",{params:e}),getById:e=>pe.get(`/vendors/${e}`),create:e=>pe.post("/vendors",e),update:(e,t)=>pe.put(`/vendors/${e}`,t),delete:e=>pe.delete(`/vendors/${e}`),getStatistics:()=>pe.get("/vendors/statistics"),getRequiringAttention:()=>pe.get("/vendors/requiring-attention"),offboard:(e,t)=>pe.post(`/vendors/${e}/offboard`,t),getAssessments:e=>pe.get(`/vendors/${e}/assessments`),createAssessment:(e,t)=>pe.post(`/vendors/${e}/assessments`,t),getAssessmentById:(e,t)=>pe.get(`/vendors/${e}/assessments/${t}`),submitResponse:(e,t,r)=>pe.post(`/vendors/${e}/assessments/${t}/responses`,r),completeAssessment:(e,t)=>pe.post(`/vendors/${e}/assessments/${t}/complete`),getContracts:e=>pe.get(`/vendors/${e}/contracts`),createContract:(e,t)=>pe.post(`/vendors/${e}/contracts`,t),getContractById:(e,t)=>pe.get(`/vendors/${e}/contracts/${t}`),updateContract:(e,t,r)=>pe.put(`/vendors/${e}/contracts/${t}`,r),trackSLA:(e,t,r)=>pe.post(`/vendors/${e}/contracts/${t}/sla`,r),getExpiringContracts:e=>pe.get("/vendors/contracts/expiring",{params:{days:e}}),getIssues:e=>pe.get(`/vendors/${e}/issues`),createIssue:(e,t)=>pe.post(`/vendors/${e}/issues`,t),getIssueById:(e,t)=>pe.get(`/vendors/${e}/issues/${t}`),updateIssue:(e,t,r)=>pe.put(`/vendors/${e}/issues/${t}`,r),submitCAP:(e,t,r)=>pe.post(`/vendors/${e}/issues/${t}/corrective-action`,r),validateRemediation:(e,t,r)=>pe.post(`/vendors/${e}/issues/${t}/validate`,r),getMonitoring:e=>pe.get(`/vendors/${e}/monitoring`),recordSignal:(e,t)=>pe.post(`/vendors/${e}/monitoring`,t),getRiskSummary:e=>pe.get(`/vendors/${e}/ai/risk-summary`),analyzeAssessment:(e,t)=>pe.get(`/vendors/${e}/ai/assessment-analysis/${t}`),reviewContract:(e,t)=>pe.get(`/vendors/${e}/ai/contract-review/${t}`),generateAuditPackage:e=>pe.get(`/vendors/${e}/ai/audit-package`),getExecutiveDashboard:()=>pe.get("/vendors/reports/executive-dashboard"),getRiskHeatmap:()=>pe.get("/vendors/reports/risk-heatmap"),getVendorScorecard:e=>pe.get(`/vendors/${e}/reports/scorecard`),getTrendAnalysis:e=>pe.get("/vendors/reports/trends",{params:{months:e}}),exportBoardReport:e=>pe.get("/vendors/reports/board-report",{params:{format:e}})},je=async()=>{try{const e="https://grc-backend-production-5586.up.railway.app/api/v1".replace("/api/v1","/health");return(await m.get(e,{timeout:2e3})).data}catch(e){return{status:"ok",timestamp:Date.now()}}},ye=r.createContext(void 0),be=()=>{const e=r.useContext(ye);if(!e)throw new Error("useAuth must be used within AuthProvider");return e},ve=({children:e})=>{const[t,a]=r.useState(null),[s,n]=r.useState(null),[i,l]=r.useState(!0);r.useEffect(()=>{(()=>{try{const e=localStorage.getItem("token"),t=localStorage.getItem("user");e&&t&&(n(e),a(JSON.parse(t)))}catch(e){localStorage.removeItem("token"),localStorage.removeItem("user")}finally{l(!1)}})()},[]);const d={user:t,token:s,isAuthenticated:!!s&&!!t,isLoading:i,login:async(e,t)=>{try{l(!0);const r=await ge({email:e,password:t}),{token:o,user:s}=r.data.data;n(o),a(s),localStorage.setItem("token",o),localStorage.setItem("user",JSON.stringify(s))}catch(r){throw r}finally{l(!1)}},logout:()=>{n(null),a(null),localStorage.removeItem("token"),localStorage.removeItem("user")},updateUser:e=>{a(e),localStorage.setItem("user",JSON.stringify(e))}};return o.jsx(ye.Provider,{value:d,children:e})};function ke(){const e=a(),{login:t}=be(),[s,n]=r.useState(""),[i,l]=r.useState(""),[d,c]=r.useState(""),[h,p]=r.useState(!1);return o.jsxs(f,{sx:{minHeight:"100vh",bgcolor:"background.default",overflow:"hidden",position:"relative"},children:[o.jsx(f,{sx:{position:"absolute",top:"-20%",left:"-10%",width:"60%",height:"60%",background:"radial-gradient(circle, rgba(99, 102, 241, 0.15) 0%, rgba(15, 23, 42, 0) 70%)",zIndex:0,pointerEvents:"none"}}),o.jsx(f,{sx:{position:"absolute",bottom:"-20%",right:"-10%",width:"60%",height:"60%",background:"radial-gradient(circle, rgba(236, 72, 153, 0.1) 0%, rgba(15, 23, 42, 0) 70%)",zIndex:0,pointerEvents:"none"}}),o.jsx(j,{maxWidth:"lg",sx:{position:"relative",zIndex:1,py:4},children:o.jsxs(y,{direction:"row",justifyContent:"space-between",alignItems:"center",children:[o.jsxs(y,{direction:"row",spacing:2,alignItems:"center",children:[o.jsx(b,{sx:{bgcolor:"transparent",background:"linear-gradient(135deg, #6366f1 0%, #8b5cf6 100%)",boxShadow:"0 4px 12px rgba(99, 102, 241, 0.3)"},children:o.jsx(v,{})}),o.jsxs(f,{children:[o.jsx(k,{variant:"h5",sx:{fontWeight:800,letterSpacing:"-0.02em",lineHeight:1},children:"Sinfosecurity"}),o.jsx(k,{variant:"caption",sx:{color:"text.secondary",fontWeight:500},children:"GRC Platform"})]})]}),o.jsxs(y,{direction:"row",spacing:2,children:[o.jsx(S,{color:"inherit",onClick:()=>e("/login"),children:"Sign In"}),o.jsx(S,{variant:"contained",color:"primary",onClick:()=>e("/register"),sx:{background:"linear-gradient(135deg, #6366f1 0%, #4f46e5 100%)",px:3},children:"Get Started"})]})]})}),o.jsx(j,{maxWidth:"lg",sx:{position:"relative",zIndex:1,pt:8,pb:15},children:o.jsxs(w,{container:!0,spacing:8,alignItems:"center",children:[o.jsx(w,{item:!0,xs:12,md:6,children:o.jsxs(f,{className:"animate-fade-in",children:[o.jsx(k,{variant:"overline",sx:{color:"secondary.main",fontWeight:700,letterSpacing:"0.1em",mb:2,display:"block"},children:"NEXT GEN GRC PLATFORM"}),o.jsxs(k,{variant:"h1",sx:{mb:3,background:"linear-gradient(to right, #fff, #94a3b8)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent"},children:["Secure Your Future with ",o.jsx("span",{className:"text-gradient-primary",children:"Intelligent GRC"})]}),o.jsx(k,{variant:"h5",sx:{color:"text.secondary",mb:5,lineHeight:1.6,fontWeight:400},children:"Streamline compliance, manage risks, and automate controls with our AI-powered platform designed for modern enterprises."}),o.jsxs(y,{direction:"row",spacing:3,children:[o.jsx(S,{variant:"contained",size:"large",onClick:()=>e("/dashboard"),endIcon:o.jsx(_,{}),sx:{fontSize:"1.1rem",py:1.5,px:4,background:"linear-gradient(135deg, #6366f1 0%, #4f46e5 100%)"},children:"Launch Dashboard"}),o.jsx(S,{variant:"outlined",size:"large",sx:{fontSize:"1.1rem",py:1.5,px:4,borderColor:"rgba(255,255,255,0.2)",color:"white","&:hover":{borderColor:"white",bgcolor:"rgba(255,255,255,0.05)"}},children:"View Demo"})]}),o.jsxs(y,{direction:"row",spacing:4,sx:{mt:8},children:[o.jsxs(f,{children:[o.jsx(k,{variant:"h3",sx:{fontWeight:700,color:"white"},children:"500+"}),o.jsx(k,{variant:"body2",sx:{color:"text.secondary"},children:"Enterprise Clients"})]}),o.jsxs(f,{children:[o.jsx(k,{variant:"h3",sx:{fontWeight:700,color:"white"},children:"99.9%"}),o.jsx(k,{variant:"body2",sx:{color:"text.secondary"},children:"Uptime SLA"})]}),o.jsxs(f,{children:[o.jsx(k,{variant:"h3",sx:{fontWeight:700,color:"white"},children:"24/7"}),o.jsx(k,{variant:"body2",sx:{color:"text.secondary"},children:"Expert Support"})]})]})]})}),o.jsx(w,{item:!0,xs:12,md:6,children:o.jsxs(f,{sx:{position:"relative"},className:"animate-fade-in",children:[o.jsx(f,{sx:{position:"absolute",inset:0,background:"linear-gradient(135deg, #6366f1 0%, #ec4899 100%)",filter:"blur(60px)",opacity:.2,borderRadius:"50%"}}),o.jsxs(I,{className:"glass",sx:{position:"relative",border:"1px solid rgba(255,255,255,0.1)",overflow:"visible"},children:[o.jsxs(C,{sx:{p:4},children:[o.jsx(k,{variant:"h5",sx:{fontWeight:700,mb:1,color:"white"},children:"Welcome Back"}),o.jsx(k,{variant:"body2",sx:{color:"text.secondary",mb:3},children:"Login to your GRC Dashboard"}),o.jsx("form",{onSubmit:async r=>{r.preventDefault();try{c(""),p(!0),await t(s,i),e("/dashboard")}catch(o){c("Login failed. For demo use: admin@sinfosecurity.com / demo123")}finally{p(!1)}},children:o.jsxs(y,{spacing:2,children:[o.jsx(E,{fullWidth:!0,label:"Email",variant:"outlined",value:s,onChange:e=>n(e.target.value),sx:{"& .MuiOutlinedInput-root":{bgcolor:"rgba(255,255,255,0.05)"}}}),o.jsx(E,{fullWidth:!0,label:"Password",type:"password",variant:"outlined",value:i,onChange:e=>l(e.target.value),sx:{"& .MuiOutlinedInput-root":{bgcolor:"rgba(255,255,255,0.05)"}}}),d&&o.jsx(k,{color:"error",variant:"caption",children:d}),o.jsx(S,{fullWidth:!0,variant:"contained",size:"large",type:"submit",disabled:h,sx:{mt:1,background:"linear-gradient(135deg, #6366f1 0%, #4f46e5 100%)",height:48},children:h?o.jsx(A,{size:24,color:"inherit"}):"Log In"})]})}),o.jsxs(f,{sx:{mt:3,pt:3,borderTop:"1px solid rgba(255,255,255,0.1)"},children:[o.jsx(k,{variant:"caption",sx:{color:"text.secondary",display:"block",mb:1},children:"Demo Credentials:"}),o.jsxs(y,{direction:"row",spacing:1,alignItems:"center",children:[o.jsx(k,{variant:"caption",sx:{color:"white",fontFamily:"monospace",bgcolor:"rgba(255,255,255,0.1)",px:1,py:.5,borderRadius:1},children:"admin@sinfosecurity.com"}),o.jsx(k,{variant:"caption",sx:{color:"white",fontFamily:"monospace",bgcolor:"rgba(255,255,255,0.1)",px:1,py:.5,borderRadius:1},children:"demo123"})]})]})]}),o.jsx(I,{sx:{position:"absolute",bottom:-30,right:-30,maxWidth:220,bgcolor:"#1e293b",border:"1px solid rgba(255,255,255,0.1)",boxShadow:"0 20px 40px rgba(0,0,0,0.3)"},className:"hover-lift",children:o.jsxs(C,{sx:{display:"flex",alignItems:"center",gap:2,py:2,"&:last-child":{pb:2}},children:[o.jsx(b,{sx:{bgcolor:"rgba(16, 185, 129, 0.1)",color:"#10b981"},children:o.jsx(L,{})}),o.jsxs(f,{children:[o.jsx(k,{variant:"subtitle2",sx:{fontWeight:700,color:"white"},children:"Audit Ready"}),o.jsx(k,{variant:"caption",sx:{color:"text.secondary"},children:"ISO 27001 Compliant"})]})]})})]})]})})]})}),o.jsxs(j,{maxWidth:"lg",sx:{py:15,position:"relative",zIndex:1},children:[o.jsxs(f,{sx:{textAlign:"center",mb:10},children:[o.jsx(k,{variant:"overline",sx:{color:"primary.main",fontWeight:700,letterSpacing:"0.1em"},children:"POWERFUL FEATURES"}),o.jsxs(k,{variant:"h2",sx:{mt:2,mb:3,fontWeight:700},children:["Everything you need to ",o.jsx("span",{className:"text-gradient-secondary",children:"stay compliant"})]}),o.jsx(k,{variant:"h6",sx:{color:"text.secondary",maxWidth:800,mx:"auto"},children:"Our platform provides a comprehensive suite of tools to manage your Governance, Risk, and Compliance programs effectively."})]}),o.jsx(w,{container:!0,spacing:4,children:[{icon:o.jsx(R,{fontSize:"large",sx:{color:"#6366f1"}}),title:"Automated Workflows",desc:"Streamline your compliance processes with intelligent automation and innovative workflow tools."},{icon:o.jsx(T,{fontSize:"large",sx:{color:"#ec4899"}}),title:"AI-Powered Insights",desc:"Leverage machine learning to predict risks and identify control gaps before they become incidents."},{icon:o.jsx(z,{fontSize:"large",sx:{color:"#10b981"}}),title:"Real-time Monitoring",desc:"Continuous monitoring of your control environment with instant alerts and dashboard visualization."}].map((e,t)=>o.jsx(w,{item:!0,xs:12,md:4,children:o.jsx(I,{className:"glass hover-lift",sx:{height:"100%",p:2},children:o.jsxs(C,{children:[o.jsx(f,{sx:{width:60,height:60,borderRadius:2,bgcolor:"rgba(255,255,255,0.03)",display:"flex",alignItems:"center",justifyContent:"center",mb:3},children:e.icon}),o.jsx(k,{variant:"h5",sx:{fontWeight:700,mb:2,color:"white"},children:e.title}),o.jsx(k,{variant:"body1",sx:{color:"text.secondary",lineHeight:1.7},children:e.desc})]})})},t))})]})]})}const Se=[{text:"Dashboard",path:"/dashboard",icon:o.jsx(M,{}),color:"#6366f1"},{text:"Risk Management",path:"/risk-management",icon:o.jsx(N,{}),color:"#ec4899"},{text:"Compliance",path:"/compliance",icon:o.jsx(F,{}),color:"#10b981"},{text:"Controls",path:"/controls",icon:o.jsx(v,{}),color:"#f59e0b"},{text:"Incidents",path:"/incidents",icon:o.jsx(B,{}),color:"#ef4444"},{text:"Policies",path:"/policies",icon:o.jsx(H,{}),color:"#06b6d4"},{text:"Documents",path:"/documents",icon:o.jsx(G,{}),color:"#8b5cf6"},{text:"ISO 27001",path:"/iso27001",icon:o.jsx(z,{}),color:"#6366f1"},{text:"TISAX",path:"/tisax",icon:o.jsx(U,{}),color:"#ec4899"},{text:"SOC Reports",path:"/soc-reports",icon:o.jsx(z,{}),color:"#10b981"},{text:"Activity Log",path:"/activity-log",icon:o.jsx(q,{}),color:"#64748b"},{text:"User Management",path:"/user-management",icon:o.jsx(J,{}),color:"#f43f5e"},{text:"Analytics",path:"/analytics",icon:o.jsx(Y,{}),color:"#3b82f6"},{text:"Tasks",path:"/tasks",icon:o.jsx(X,{}),color:"#f59e0b"},{text:"Workflows",path:"/workflows",icon:o.jsx(K,{}),color:"#10b981"},{text:"Business Continuity",path:"/business-continuity",icon:o.jsx(D,{}),color:"#f97316"},{text:"AI Insights",path:"/ai-insights",icon:o.jsx(T,{}),color:"#8b5cf6"},{text:"Predictive Analytics",path:"/predictive-analytics",icon:o.jsx(Q,{}),color:"#ec4899"},{text:"Reports",path:"/reports",icon:o.jsx(N,{}),color:"#94a3b8"},{text:"Vendor Management",path:"/vendor-management",icon:o.jsx(Z,{}),color:"#14b8a6"}];function we(){const e=a(),t=s();return o.jsxs(f,{sx:{display:"flex",minHeight:"100vh",bgcolor:"background.default"},children:[o.jsxs(f,{component:"nav",sx:{width:280,flexShrink:0,bgcolor:"rgba(15, 23, 42, 0.6)",borderRight:"1px solid rgba(255, 255, 255, 0.05)",backdropFilter:"blur(20px)",display:"flex",flexDirection:"column",position:"sticky",top:0,height:"100vh",overflowY:"auto","::-webkit-scrollbar":{width:"4px"}},children:[o.jsx(f,{sx:{p:4,mb:1},children:o.jsxs(y,{direction:"row",spacing:2,alignItems:"center",children:[o.jsx(b,{sx:{width:48,height:48,background:"linear-gradient(135deg, #6366f1 0%, #8b5cf6 100%)",boxShadow:"0 8px 16px -4px rgba(99, 102, 241, 0.5)"},children:o.jsx(v,{})}),o.jsxs(f,{children:[o.jsx(k,{variant:"h6",sx:{fontWeight:700,letterSpacing:"-0.02em",color:"white"},children:"Sinfosecurity"}),o.jsx(k,{variant:"caption",sx:{color:"rgba(255,255,255,0.5)",fontWeight:500},children:"GRC Platform"})]})]})}),o.jsxs(O,{sx:{flex:1,px:2,py:1},children:[o.jsx(k,{variant:"overline",sx:{px:2,mb:1,display:"block",color:"rgba(255,255,255,0.4)",fontWeight:600},children:"Main Menu"}),Se.map(r=>{const a=t.pathname===r.path;return o.jsxs(P,{onClick:()=>e(r.path),sx:{mb:.5,borderRadius:2,cursor:"pointer",position:"relative",overflow:"hidden",background:a?`linear-gradient(90deg, ${r.color}20 0%, transparent 100%)`:"transparent",borderLeft:a?`3px solid ${r.color}`:"3px solid transparent","&:hover":{background:"rgba(255, 255, 255, 0.03)"},transition:"all 0.2s ease"},children:[o.jsx(W,{sx:{color:a?r.color:"rgba(255,255,255,0.5)",minWidth:40,transition:"color 0.2s"},children:r.icon}),o.jsx(V,{primary:r.text,primaryTypographyProps:{fontWeight:a?600:500,fontSize:"0.9rem",color:a?"white":"rgba(255,255,255,0.7)"}})]},r.text)})]}),o.jsxs(f,{sx:{p:2,mt:"auto",borderTop:"1px solid rgba(255,255,255,0.05)"},children:[o.jsx(k,{variant:"overline",sx:{px:1,mb:1,display:"block",color:"rgba(255,255,255,0.4)",fontWeight:600},children:"System"}),o.jsxs(O,{disablePadding:!0,children:[o.jsxs(P,{onClick:()=>e("/organization-settings"),sx:{borderRadius:2,mb:.5,cursor:"pointer","&:hover":{bgcolor:"rgba(255,255,255,0.03)"}},children:[o.jsx(W,{sx:{color:"rgba(255,255,255,0.5)",minWidth:40},children:o.jsx(D,{})}),o.jsx(V,{primary:"Organization",primaryTypographyProps:{fontSize:"0.9rem",color:"rgba(255,255,255,0.7)"}})]}),o.jsxs(P,{onClick:()=>e("/settings"),sx:{borderRadius:2,cursor:"pointer","&:hover":{bgcolor:"rgba(255,255,255,0.03)"}},children:[o.jsx(W,{sx:{color:"rgba(255,255,255,0.5)",minWidth:40},children:o.jsx($,{})}),o.jsx(V,{primary:"Settings",primaryTypographyProps:{fontSize:"0.9rem",color:"rgba(255,255,255,0.7)"}})]})]})]})]}),o.jsx(f,{component:"main",sx:{flexGrow:1,p:4,width:{sm:"calc(100% - 280px)"},bgcolor:"transparent",color:"text.primary"},children:o.jsx(n,{})})]})}const _e=({children:e,allowedRoles:t})=>{const{isAuthenticated:r,isLoading:a,user:n}=be(),l=s();return a?o.jsx(f,{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"100vh",children:o.jsx(A,{})}):r?t&&n&&!t.includes(n.role)?o.jsx(i,{to:"/unauthorized",replace:!0}):e:o.jsx(i,{to:"/",state:{from:l},replace:!0})},Ie=()=>{const e=a();return o.jsx(j,{maxWidth:"sm",children:o.jsxs(f,{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",minHeight:"100vh",textAlign:"center",children:[o.jsx(ee,{sx:{fontSize:80,color:"error.main",mb:2}}),o.jsx(k,{variant:"h3",gutterBottom:!0,children:"Access Denied"}),o.jsx(k,{variant:"body1",color:"text.secondary",paragraph:!0,children:"You don't have permission to access this page. Please contact your administrator if you believe this is an error."}),o.jsx(S,{variant:"contained",onClick:()=>e("/dashboard"),sx:{mt:2},children:"Return to Dashboard"})]})})},Ce=d,Ee=ie({name:"ui",initialState:{sidebarOpen:!0,theme:localStorage.getItem("theme")||"dark",notifications:[],isLoading:!1,loadingMessage:null},reducers:{toggleSidebar:e=>{e.sidebarOpen=!e.sidebarOpen},setSidebarOpen:(e,t)=>{e.sidebarOpen=t.payload},setTheme:(e,t)=>{e.theme=t.payload,localStorage.setItem("theme",t.payload)},addNotification:(e,t)=>{const r={...t.payload,id:Date.now().toString()};e.notifications.push(r)},removeNotification:(e,t)=>{e.notifications=e.notifications.filter(e=>e.id!==t.payload)},clearNotifications:e=>{e.notifications=[]},setLoading:(e,t)=>{e.isLoading=t.payload.isLoading,e.loadingMessage=t.payload.message||null}}}),{toggleSidebar:Ae,setSidebarOpen:Le,setTheme:Re,addNotification:Te,removeNotification:ze,clearNotifications:Oe,setLoading:Pe}=Ee.actions,We=Ee.reducer;function Ve(){const e=l(),t=Ce(e=>e.ui.notifications),a=t=>{e(ze(t))};r.useEffect(()=>{t.forEach(t=>{const r=t.duration||5e3,o=setTimeout(()=>{e(ze(t.id))},r);return()=>clearTimeout(o)})},[t,e]);const s=t[t.length-1];return s?o.jsx(te,{open:!0,autoHideDuration:s.duration||5e3,onClose:()=>a(s.id),anchorOrigin:{vertical:"top",horizontal:"right"},children:o.jsx(re,{onClose:()=>a(s.id),severity:s.type,sx:{width:"100%"},variant:"filled",children:s.message})}):null}const De=r.lazy(()=>he(()=>import("./Dashboard-ChW99gpl.js"),__vite__mapDeps([0,1,2,3,4,5]))),$e=r.lazy(()=>he(()=>import("./RiskManagement-D4QSMTzu.js"),__vite__mapDeps([6,1,2,3]))),Me=r.lazy(()=>he(()=>import("./ComplianceManagement-BtuDXakp.js"),__vite__mapDeps([7,1,2,3]))),Ne=r.lazy(()=>he(()=>import("./ControlsManagement-CHydWUb-.js"),__vite__mapDeps([8,1,2,3]))),Fe=r.lazy(()=>he(()=>import("./IncidentManagement-BD_42Ecw.js"),__vite__mapDeps([9,1,2,3]))),Be=r.lazy(()=>he(()=>import("./PolicyManagement-RdF903Wb.js"),__vite__mapDeps([10,1,2,3]))),He=r.lazy(()=>he(()=>import("./DocumentManagement-BvjURwJO.js"),__vite__mapDeps([11,1,2,3]))),Ge=r.lazy(()=>he(()=>import("./ActivityLog-BXXZktQj.js"),__vite__mapDeps([12,1,2,3]))),Ue=r.lazy(()=>he(()=>import("./UserManagement-Dg8W7Uuh.js"),__vite__mapDeps([13,1,2,3]))),qe=r.lazy(()=>he(()=>import("./OrganizationSettings-5rrN77j3.js"),__vite__mapDeps([14,1,2,3]))),Je=r.lazy(()=>he(()=>import("./Analytics-CXXN3uUj.js"),__vite__mapDeps([15,1,2,3,4]))),Ye=r.lazy(()=>he(()=>import("./Tasks-D87qI2FF.js"),__vite__mapDeps([16,1,2,3]))),Xe=r.lazy(()=>he(()=>import("./WorkflowBuilder-CfRzvhwM.js"),__vite__mapDeps([17,1,2,3]))),Ke=r.lazy(()=>he(()=>import("./BusinessContinuity-CWokNXoV.js"),__vite__mapDeps([18,1,2,3]))),Qe=r.lazy(()=>he(()=>import("./AIInsights-BVYKj7P9.js"),__vite__mapDeps([19,1,2,3]))),Ze=r.lazy(()=>he(()=>import("./PredictiveAnalytics-C7NH2JFJ.js"),__vite__mapDeps([20,1,2,3]))),et=r.lazy(()=>he(()=>import("./Reports-N3jLheHp.js"),__vite__mapDeps([21,1,2,3]))),tt=r.lazy(()=>he(()=>import("./VendorManagement-TFRp8Rfe.js"),__vite__mapDeps([22,1,2,3,5]))),rt=r.lazy(()=>he(()=>import("./SOCReports-BdOgpmFi.js"),__vite__mapDeps([23,1,2,3]))),ot=r.lazy(()=>he(()=>import("./OnboardingWizard-DDne3skX.js"),__vite__mapDeps([24,1,2,3]))),at=r.lazy(()=>he(()=>import("./ISO27001-F4F7F3nU.js"),__vite__mapDeps([25,1,2,3]))),st=r.lazy(()=>he(()=>import("./TISAX-CE1MbRl5.js"),__vite__mapDeps([26,1,2,3]))),nt=r.lazy(()=>he(()=>import("./Settings-B9vq9DRo.js"),__vite__mapDeps([27,1,2,3]))),it=()=>o.jsx(f,{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"400px",children:o.jsx(A,{})});function lt(){return o.jsxs(o.Fragment,{children:[o.jsx(Ve,{}),o.jsx(r.Suspense,{fallback:o.jsx(it,{}),children:o.jsxs(c,{children:[o.jsx(h,{path:"/",element:o.jsx(ke,{})}),o.jsx(h,{path:"/unauthorized",element:o.jsx(Ie,{})}),o.jsxs(h,{element:o.jsx(_e,{children:o.jsx(we,{})}),children:[o.jsx(h,{path:"/dashboard",element:o.jsx(De,{})}),o.jsx(h,{path:"risk-management",element:o.jsx($e,{})}),o.jsx(h,{path:"compliance",element:o.jsx(Me,{})}),o.jsx(h,{path:"controls",element:o.jsx(Ne,{})}),o.jsx(h,{path:"incidents",element:o.jsx(Fe,{})}),o.jsx(h,{path:"policies",element:o.jsx(Be,{})}),o.jsx(h,{path:"documents",element:o.jsx(He,{})}),o.jsx(h,{path:"activity-log",element:o.jsx(Ge,{})}),o.jsx(h,{path:"user-management",element:o.jsx(_e,{allowedRoles:["ADMIN","MANAGER"],children:o.jsx(Ue,{})})}),o.jsx(h,{path:"organization-settings",element:o.jsx(_e,{allowedRoles:["ADMIN"],children:o.jsx(qe,{})})}),o.jsx(h,{path:"analytics",element:o.jsx(Je,{})}),o.jsx(h,{path:"tasks",element:o.jsx(Ye,{})}),o.jsx(h,{path:"workflows",element:o.jsx(Xe,{})}),o.jsx(h,{path:"business-continuity",element:o.jsx(Ke,{})}),o.jsx(h,{path:"ai-insights",element:o.jsx(Qe,{})}),o.jsx(h,{path:"predictive-analytics",element:o.jsx(Ze,{})}),o.jsx(h,{path:"reports",element:o.jsx(et,{})}),o.jsx(h,{path:"vendor-management",element:o.jsx(tt,{})}),o.jsx(h,{path:"soc-reports",element:o.jsx(rt,{})}),o.jsx(h,{path:"onboarding",element:o.jsx(ot,{})}),o.jsx(h,{path:"iso27001",element:o.jsx(at,{})}),o.jsx(h,{path:"tisax",element:o.jsx(st,{})}),o.jsx(h,{path:"settings",element:o.jsx(nt,{})})]})]})})]})}const dt=oe({palette:{mode:"dark",primary:{main:"#6366f1",light:"#818cf8",dark:"#4f46e5",contrastText:"#ffffff"},secondary:{main:"#ec4899",light:"#f472b6",dark:"#db2777",contrastText:"#ffffff"},success:{main:"#10b981",light:"#34d399",dark:"#059669"},warning:{main:"#f59e0b",light:"#fbbf24",dark:"#d97706"},error:{main:"#ef4444",light:"#f87171",dark:"#dc2626"},background:{default:"#0f172a",paper:"#1e293b"},text:{primary:"#f8fafc",secondary:"#94a3b8"},action:{hover:"rgba(255, 255, 255, 0.08)",selected:"rgba(99, 102, 241, 0.16)"}},typography:{fontFamily:'"Inter", "Outfit", "Segoe UI", sans-serif',h1:{fontSize:"3.5rem",fontWeight:800,lineHeight:1.1,letterSpacing:"-0.02em"},h2:{fontSize:"2.75rem",fontWeight:700,lineHeight:1.2,letterSpacing:"-0.01em"},h3:{fontSize:"2.25rem",fontWeight:700,lineHeight:1.3,letterSpacing:"-0.01em"},h4:{fontSize:"1.75rem",fontWeight:600,lineHeight:1.3},h5:{fontSize:"1.25rem",fontWeight:600,lineHeight:1.4},h6:{fontSize:"1rem",fontWeight:600,lineHeight:1.5},body1:{fontSize:"1rem",lineHeight:1.6},body2:{fontSize:"0.875rem",lineHeight:1.5},button:{textTransform:"none",fontWeight:600,letterSpacing:"0.01em"}},shape:{borderRadius:12},components:{MuiCssBaseline:{styleOverrides:{body:{scrollbarColor:"#4f46e5 #0f172a","&::-webkit-scrollbar, & *::-webkit-scrollbar":{backgroundColor:"#0f172a",width:"8px",height:"8px"},"&::-webkit-scrollbar-thumb, & *::-webkit-scrollbar-thumb":{borderRadius:8,backgroundColor:"#4f46e5",minHeight:24}}}},MuiButton:{styleOverrides:{root:{borderRadius:8,padding:"10px 24px",transition:"all 0.2s cubic-bezier(0.4, 0, 0.2, 1)"},contained:{boxShadow:"0 4px 6px -1px rgba(99, 102, 241, 0.1), 0 2px 4px -1px rgba(99, 102, 241, 0.06)","&:hover":{boxShadow:"0 10px 15px -3px rgba(99, 102, 241, 0.2), 0 4px 6px -2px rgba(99, 102, 241, 0.1)",transform:"translateY(-1px)"}}}},MuiCard:{styleOverrides:{root:{borderRadius:16,backgroundImage:"none",backgroundColor:"rgba(30, 41, 59, 0.7)",backdropFilter:"blur(12px)",border:"1px solid rgba(255, 255, 255, 0.08)",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06)"}}},MuiPaper:{defaultProps:{elevation:0},styleOverrides:{root:{backgroundImage:"none"}}},MuiChip:{styleOverrides:{root:{borderRadius:8,fontWeight:500}}},MuiTableCell:{styleOverrides:{root:{borderBottom:"1px solid rgba(255, 255, 255, 0.08)"},head:{fontWeight:600,backgroundColor:"rgba(15, 23, 42, 0.5)"}}}}}),ct={user:null,token:localStorage.getItem("token"),refreshToken:localStorage.getItem("refreshToken"),isAuthenticated:!!localStorage.getItem("token"),isLoading:!1,error:null},ht=le("auth/login",async(e,{rejectWithValue:t})=>{var r,o;try{const t=await ge(e);return localStorage.setItem("token",t.data.token),localStorage.setItem("refreshToken",t.data.refreshToken),t.data}catch(a){return t((null==(o=null==(r=a.response)?void 0:r.data)?void 0:o.message)||"Login failed")}}),pt=le("auth/logout",async()=>{try{await ue()}catch(e){}finally{localStorage.removeItem("token"),localStorage.removeItem("refreshToken")}}),gt=le("auth/refresh",async(e,{rejectWithValue:t})=>{var r,o;try{const e=localStorage.getItem("refreshToken");if(!e)throw new Error("No refresh token");const t=await xe(e);return localStorage.setItem("token",t.data.token),t.data}catch(a){return localStorage.removeItem("token"),localStorage.removeItem("refreshToken"),t((null==(o=null==(r=a.response)?void 0:r.data)?void 0:o.message)||"Token refresh failed")}}),ut=le("auth/fetchCurrentUser",async(e,{rejectWithValue:t})=>{var r,o;try{return(await me()).data}catch(a){return t((null==(o=null==(r=a.response)?void 0:r.data)?void 0:o.message)||"Failed to fetch user")}}),xt=ie({name:"auth",initialState:ct,reducers:{setCredentials:(e,t)=>{e.user=t.payload.user,e.token=t.payload.token,t.payload.refreshToken&&(e.refreshToken=t.payload.refreshToken),e.isAuthenticated=!0,e.error=null},clearAuth:e=>{e.user=null,e.token=null,e.refreshToken=null,e.isAuthenticated=!1,e.error=null},setError:(e,t)=>{e.error=t.payload},clearError:e=>{e.error=null}},extraReducers:e=>{e.addCase(ht.pending,e=>{e.isLoading=!0,e.error=null}).addCase(ht.fulfilled,(e,t)=>{e.isLoading=!1,e.user=t.payload.user,e.token=t.payload.token,e.refreshToken=t.payload.refreshToken,e.isAuthenticated=!0,e.error=null}).addCase(ht.rejected,(e,t)=>{e.isLoading=!1,e.error=t.payload,e.isAuthenticated=!1}),e.addCase(pt.pending,e=>{e.isLoading=!0}).addCase(pt.fulfilled,e=>{e.user=null,e.token=null,e.refreshToken=null,e.isAuthenticated=!1,e.isLoading=!1,e.error=null}),e.addCase(gt.fulfilled,(e,t)=>{e.token=t.payload.token,e.isAuthenticated=!0}).addCase(gt.rejected,e=>{e.user=null,e.token=null,e.refreshToken=null,e.isAuthenticated=!1}),e.addCase(ut.pending,e=>{e.isLoading=!0}).addCase(ut.fulfilled,(e,t)=>{e.isLoading=!1,e.user=t.payload,e.error=null}).addCase(ut.rejected,(e,t)=>{e.isLoading=!1,e.error=t.payload})}}),{setCredentials:mt,clearAuth:ft,setError:jt,clearError:yt}=xt.actions,bt=xt.reducer,vt=le("vendor/fetchVendors",async(e,{rejectWithValue:t})=>{var r,o;try{return(await fe.getAll()).data}catch(a){return t((null==(o=null==(r=a.response)?void 0:r.data)?void 0:o.message)||"Failed to fetch vendors")}}),kt=le("vendor/fetchVendorById",async(e,{rejectWithValue:t})=>{var r,o;try{return(await fe.getById(e.toString())).data}catch(a){return t((null==(o=null==(r=a.response)?void 0:r.data)?void 0:o.message)||"Failed to fetch vendor")}}),St=le("vendor/createVendor",async(e,{rejectWithValue:t})=>{var r,o;try{return(await fe.create(e)).data}catch(a){return t((null==(o=null==(r=a.response)?void 0:r.data)?void 0:o.message)||"Failed to create vendor")}}),wt=le("vendor/updateVendor",async({id:e,data:t},{rejectWithValue:r})=>{var o,a;try{return(await fe.update(e.toString(),t)).data}catch(s){return r((null==(a=null==(o=s.response)?void 0:o.data)?void 0:a.message)||"Failed to update vendor")}}),_t=le("vendor/deleteVendor",async(e,{rejectWithValue:t})=>{var r,o;try{return await fe.delete(e.toString()),e}catch(a){return t((null==(o=null==(r=a.response)?void 0:r.data)?void 0:o.message)||"Failed to delete vendor")}}),It=le("vendor/fetchStatistics",async(e,{rejectWithValue:t})=>{var r,o;try{return(await fe.getStatistics()).data}catch(a){return t((null==(o=null==(r=a.response)?void 0:r.data)?void 0:o.message)||"Failed to fetch statistics")}}),Ct=ie({name:"vendor",initialState:{vendors:[],selectedVendor:null,statistics:null,isLoading:!1,error:null,filters:{}},reducers:{setSelectedVendor:(e,t)=>{e.selectedVendor=t.payload},setFilters:(e,t)=>{e.filters=t.payload},clearFilters:e=>{e.filters={}},clearError:e=>{e.error=null}},extraReducers:e=>{e.addCase(vt.pending,e=>{e.isLoading=!0,e.error=null}).addCase(vt.fulfilled,(e,t)=>{e.isLoading=!1,e.vendors=t.payload}).addCase(vt.rejected,(e,t)=>{e.isLoading=!1,e.error=t.payload}),e.addCase(kt.pending,e=>{e.isLoading=!0,e.error=null}).addCase(kt.fulfilled,(e,t)=>{e.isLoading=!1,e.selectedVendor=t.payload}).addCase(kt.rejected,(e,t)=>{e.isLoading=!1,e.error=t.payload}),e.addCase(St.pending,e=>{e.isLoading=!0,e.error=null}).addCase(St.fulfilled,(e,t)=>{e.isLoading=!1,e.vendors.push(t.payload)}).addCase(St.rejected,(e,t)=>{e.isLoading=!1,e.error=t.payload}),e.addCase(wt.pending,e=>{e.isLoading=!0,e.error=null}).addCase(wt.fulfilled,(e,t)=>{var r;e.isLoading=!1;const o=e.vendors.findIndex(e=>e.id===t.payload.id);-1!==o&&(e.vendors[o]=t.payload),(null==(r=e.selectedVendor)?void 0:r.id)===t.payload.id&&(e.selectedVendor=t.payload)}).addCase(wt.rejected,(e,t)=>{e.isLoading=!1,e.error=t.payload}),e.addCase(_t.pending,e=>{e.isLoading=!0,e.error=null}).addCase(_t.fulfilled,(e,t)=>{var r;e.isLoading=!1,e.vendors=e.vendors.filter(e=>e.id!==t.payload),(null==(r=e.selectedVendor)?void 0:r.id)===t.payload&&(e.selectedVendor=null)}).addCase(_t.rejected,(e,t)=>{e.isLoading=!1,e.error=t.payload}),e.addCase(It.pending,e=>{e.error=null}).addCase(It.fulfilled,(e,t)=>{e.statistics=t.payload}).addCase(It.rejected,(e,t)=>{e.error=t.payload})}}),{setSelectedVendor:Et,setFilters:At,clearFilters:Lt,clearError:Rt}=Ct.actions,Tt=de({reducer:{auth:bt,ui:We,vendor:Ct.reducer},middleware:e=>e({serializableCheck:{ignoredActions:["auth/login/fulfilled","auth/logout/fulfilled"]}})}),zt=r.createContext(void 0),Ot=({children:e})=>{const[t,a]=r.useState([]),s=(e,t="info")=>{const r=Date.now();a(o=>[...o,{id:r,message:e,severity:t}])},n=e=>{a(t=>t.filter(t=>t.id!==e))};return o.jsxs(zt.Provider,{value:{showNotification:s,showSuccess:e=>s(e,"success"),showError:e=>s(e,"error"),showWarning:e=>s(e,"warning"),showInfo:e=>s(e,"info")},children:[e,t.map(e=>o.jsx(te,{open:!0,autoHideDuration:6e3,onClose:()=>n(e.id),anchorOrigin:{vertical:"top",horizontal:"right"},children:o.jsx(re,{onClose:()=>n(e.id),severity:e.severity,variant:"filled",sx:{width:"100%"},children:e.message})},e.id))]})};class Pt extends r.Component{constructor(e){super(e),t(this,"handleReset",()=>{this.setState({hasError:!1,error:null,errorInfo:null})}),this.state={hasError:!1,error:null,errorInfo:null}}static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,t){this.setState({error:e,errorInfo:t})}render(){return this.state.hasError?this.props.fallback?this.props.fallback:o.jsx(j,{maxWidth:"md",children:o.jsxs(f,{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",minHeight:"100vh",textAlign:"center",gap:3,children:[o.jsx(ae,{sx:{fontSize:80,color:"error.main"}}),o.jsx(k,{variant:"h3",gutterBottom:!0,children:"Oops! Something went wrong"}),o.jsx(k,{variant:"body1",color:"text.secondary",paragraph:!0,children:"We encountered an unexpected error. Don't worry, your data is safe. Please try refreshing the page or contact support if the problem persists."}),!1,o.jsxs(f,{display:"flex",gap:2,children:[o.jsx(S,{variant:"contained",onClick:()=>window.location.reload(),children:"Refresh Page"}),o.jsx(S,{variant:"outlined",onClick:this.handleReset,children:"Try Again"})]})]})}):this.props.children}}p.createRoot(document.getElementById("root")).render(o.jsx(g.StrictMode,{children:o.jsx(Pt,{children:o.jsx(u,{store:Tt,children:o.jsx(x,{children:o.jsx(Ot,{children:o.jsx(ve,{children:o.jsxs(se,{theme:dt,children:[o.jsx(ne,{}),o.jsx(lt,{})]})})})})})})}));export{je as h,fe as v};
